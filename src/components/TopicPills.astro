---
/**
 * TopicPills - Navigation pills for filtering posts by topic
 */
import type { TopicPillsProps } from '../types';
import { TOPIC_SLUGS } from '../config';

const { topics, activeTopic } = Astro.props as TopicPillsProps;
---

<div class="flex flex-wrap gap-2" role="navigation" aria-label="Topics">
  <button
    data-topic="all"
    class:list={[
      "px-2 py-1 rounded-full border motion-safe h-6 inline-flex items-center text-xs",
      {
        "border-border text-faint hover:bg-panel hover:text-text": activeTopic,
        "bg-panel border-border text-text shadow-sm": !activeTopic
      }
    ]}
    aria-pressed={!activeTopic}
  >
    All
  </button>
  {topics.map((topic) => (
    <button
      data-topic={TOPIC_SLUGS[topic as keyof typeof TOPIC_SLUGS]}
      class:list={[
        "px-2 py-1 rounded-full border motion-safe h-6 inline-flex items-center text-xs",
        {
          "bg-panel border-border text-text shadow-sm": activeTopic === topic,
          "border-border text-faint hover:bg-panel hover:text-text": activeTopic !== topic
        }
      ]}
      aria-pressed={activeTopic === topic}
    >
      {topic}
    </button>
  ))}
</div>

<style>
  @media (prefers-reduced-motion: reduce) {
    a {
      transition: none;
    }
  }
</style>
